<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Morphologische Produktivität live: Ein Blick auf die Bestimmungsglieder | Corona-Morphologie: Einfache Produktivitätsanalysen an konkreten Beispielen</title>
  <meta name="description" content="4 Morphologische Produktivität live: Ein Blick auf die Bestimmungsglieder | Corona-Morphologie: Einfache Produktivitätsanalysen an konkreten Beispielen" />
  <meta name="generator" content="bookdown 0.12 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Morphologische Produktivität live: Ein Blick auf die Bestimmungsglieder | Corona-Morphologie: Einfache Produktivitätsanalysen an konkreten Beispielen" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Morphologische Produktivität live: Ein Blick auf die Bestimmungsglieder | Corona-Morphologie: Einfache Produktivitätsanalysen an konkreten Beispielen" />
  
  
  

<meta name="author" content="Stefan Hartmann" />


<meta name="date" content="2020-06-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="corona-als-erstglied-eine-produktivitatsanalyse.html">
<link rel="next" href="literatur.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Einführung</a></li>
<li class="chapter" data-level="2" data-path="produktivitatsmae.html"><a href="produktivitatsmae.html"><i class="fa fa-check"></i><b>2</b> Produktivitätsmaße</a></li>
<li class="chapter" data-level="3" data-path="corona-als-erstglied-eine-produktivitatsanalyse.html"><a href="corona-als-erstglied-eine-produktivitatsanalyse.html"><i class="fa fa-check"></i><b>3</b> Corona- als Erstglied: Eine Produktivitätsanalyse</a><ul>
<li class="chapter" data-level="" data-path="corona-als-erstglied-eine-produktivitatsanalyse.html"><a href="corona-als-erstglied-eine-produktivitatsanalyse.html#produktivitatsanalyse-in-excel"><i class="fa fa-check"></i>Produktivitätsanalyse in Excel</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="morphologische-produktivitat-live-ein-blick-auf-die-bestimmungsglieder.html"><a href="morphologische-produktivitat-live-ein-blick-auf-die-bestimmungsglieder.html"><i class="fa fa-check"></i><b>4</b> Morphologische Produktivität live: Ein Blick auf die Bestimmungsglieder</a></li>
<li class="chapter" data-level="" data-path="literatur.html"><a href="literatur.html"><i class="fa fa-check"></i>Literatur</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Corona-Morphologie: Einfache Produktivitätsanalysen an konkreten Beispielen</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="morphologische-produktivitat-live-ein-blick-auf-die-bestimmungsglieder" class="section level1">
<h1><span class="header-section-number">4</span> Morphologische Produktivität live: Ein Blick auf die Bestimmungsglieder</h1>
<p>In diesem Abschnitt wollen wir uns nun einen ganz anderen Weg anschauen, auf dem wir uns den Daten nähern können. Hierfür arbeiten wir mit R - falls Sie sich hier einarbeiten wollen, finden Sie online extrem viele gute Tutorials, und es gibt auch viele Einführungen in die Statistik speziell für Linguist*innen, die mit R arbeiten. Hier kann ich nicht in R einführen, versuche aber, das, was ich mache, so verständlich zu beschreiben, dass Sie zumindest das Konzept hinter dem, was ich mache, verstehen können.</p>
<p>Zunächst lade ich einige Zusatzpakete, die ich im Folgenden benutzen möchte. Sie enthalten Funktionen, die in R nicht standardmäßig enthalten sind. Wenn Sie die Pakete noch nicht installiert haben, müssen Sie siejedes einzelne zunächst mit <code>install.packages(&quot;Paketname&quot;)</code> installieren. Das gilt für diejenigen, die über das “Comprehensive R Architecture Network” (CRAN) verfügbar sind. Bei einem der Pakete, “collostructions”, ist dies nicht der Fall, Sie finden es unter www.sfla.ch.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a></code></pre></div>
<pre><code>## ── Attaching packages ───────────────────────────────────────── tidyverse 1.2.1 ──</code></pre>
<pre><code>## ✓ ggplot2 3.2.1     ✓ purrr   0.3.4
## ✓ tibble  3.0.0     ✓ dplyr   0.8.5
## ✓ tidyr   1.0.0     ✓ stringr 1.4.0
## ✓ readr   1.3.1     ✓ forcats 0.4.0</code></pre>
<pre><code>## Warning: package &#39;tibble&#39; was built under R version 3.6.2</code></pre>
<pre><code>## Warning: package &#39;purrr&#39; was built under R version 3.6.2</code></pre>
<pre><code>## ── Conflicts ──────────────────────────────────────────── tidyverse_conflicts() ──
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw">library</span>(googleVis)</a></code></pre></div>
<pre><code>## Creating a generic function for &#39;toJSON&#39; from package &#39;jsonlite&#39; in package &#39;googleVis&#39;</code></pre>
<pre><code>## 
## Welcome to googleVis version 0.6.4
## 
## Please read Google&#39;s Terms of Use
## before you start using the package:
## https://developers.google.com/terms/
## 
## Note, the plot method of googleVis will by default use
## the standard browser to display its output.
## 
## See the googleVis package vignettes for more details,
## or visit https://github.com/mages/googleVis.
## 
## To suppress this message use:
## suppressPackageStartupMessages(library(googleVis))</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw">library</span>(lubridate)</a></code></pre></div>
<pre><code>## 
## Attaching package: &#39;lubridate&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:base&#39;:
## 
##     date</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="kw">library</span>(collostructions)</a></code></pre></div>
<p>Zunächst lesen wir die Daten ein, werfen einen Blick auf die Struktur der Daten und schauen uns diese mit Hilfe des <code>str()</code>-Befehls genauer an.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">d &lt;-<span class="st"> </span><span class="kw">read_delim</span>(<span class="st">&quot;Coronakomposita.txt&quot;</span>, <span class="dt">delim =</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>,</a>
<a class="sourceLine" id="cb14-2" data-line-number="2">                <span class="dt">col_names =</span> <span class="kw">c</span>(<span class="st">&quot;Freq&quot;</span>, <span class="st">&quot;word&quot;</span>, <span class="st">&quot;date&quot;</span>))</a></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   Freq = col_double(),
##   word = col_character(),
##   date = col_date(format = &quot;&quot;)
## )</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1">d</a></code></pre></div>
<pre><code>## # A tibble: 14,682 x 3
##     Freq word    date      
##    &lt;dbl&gt; &lt;chr&gt;   &lt;date&gt;    
##  1     1 Corona  2020-03-04
##  2     1 Corona* 2020-04-01
##  3     1 Corona* 2020-04-03
##  4     1 Corona* 2020-04-08
##  5     1 Corona* 2020-04-09
##  6     1 Corona* 2020-04-13
##  7     1 Corona* 2020-04-18
##  8     1 Corona* 2020-05-08
##  9     1 Corona* 2020-05-18
## 10     1 Corona* 2020-05-22
## # … with 14,672 more rows</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="kw">str</span>(d)</a></code></pre></div>
<pre><code>## tibble [14,682 × 3] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
##  $ Freq: num [1:14682] 1 1 1 1 1 1 1 1 1 1 ...
##  $ word: chr [1:14682] &quot;Corona&quot; &quot;Corona*&quot; &quot;Corona*&quot; &quot;Corona*&quot; ...
##  $ date: Date[1:14682], format: &quot;2020-03-04&quot; &quot;2020-04-01&quot; ...
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   Freq = col_double(),
##   ..   word = col_character(),
##   ..   date = col_date(format = &quot;&quot;)
##   .. )</code></pre>
<p>Nun löschen wir alle Datenpunkte, in denen “Corona” nicht von mindestens zwei weiteren Zeichen gefolgt wird, um Fehltreffer wie <em>Corona-</em> zu tilgen. Dann konvertieren wir alle Daten in Kleinschreibung und fügen eine Spalte hinzu, die nur die Zweitglieder enthält (also alles, was auf <em>Corona-</em> folgt). Aus dieser Spalte löschen wir zusätzlich noch alle Interpunktionszeichen, um z.B. Fälle der Kompositaschreibung mit und ohne Bindestrich zu vereinheitlichen.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="co"># Fehltreffer reduzieren</span></a>
<a class="sourceLine" id="cb20-2" data-line-number="2">d &lt;-<span class="st"> </span>d[<span class="op">-</span><span class="kw">which</span>(<span class="kw">sapply</span>(<span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(d), <span class="cf">function</span>(i) <span class="kw">nchar</span>(d<span class="op">$</span>word[i]))<span class="op">&lt;=</span><span class="dv">8</span>),]</a>
<a class="sourceLine" id="cb20-3" data-line-number="3"></a>
<a class="sourceLine" id="cb20-4" data-line-number="4"></a>
<a class="sourceLine" id="cb20-5" data-line-number="5"><span class="co"># Groß- und Kleinschreibung ignorieren</span></a>
<a class="sourceLine" id="cb20-6" data-line-number="6">d<span class="op">$</span>word &lt;-<span class="st"> </span><span class="kw">tolower</span>(d<span class="op">$</span>word)</a>
<a class="sourceLine" id="cb20-7" data-line-number="7"></a>
<a class="sourceLine" id="cb20-8" data-line-number="8"><span class="co"># Köpfe</span></a>
<a class="sourceLine" id="cb20-9" data-line-number="9">d<span class="op">$</span>head &lt;-<span class="st"> </span><span class="kw">gsub</span>(<span class="st">&quot;corona-?&quot;</span>, <span class="st">&quot;&quot;</span>, d<span class="op">$</span>word)</a>
<a class="sourceLine" id="cb20-10" data-line-number="10"></a>
<a class="sourceLine" id="cb20-11" data-line-number="11"><span class="co"># Interpunktion löschen</span></a>
<a class="sourceLine" id="cb20-12" data-line-number="12">d<span class="op">$</span>head &lt;-<span class="st"> </span><span class="kw">gsub</span>(<span class="st">&quot;[[:punct:]]&quot;</span>, <span class="st">&quot;&quot;</span>, d<span class="op">$</span>head)</a></code></pre></div>
<p>Wir fassen die Daten nun mit der <code>summarise</code>-Funktion aus dem dplyr-Paket (Teil des “Tidyverse”) zusammen, um die Gesamtfrequenzen jedes Bestimmungsglieds zu bekommen, und ordnen die Daten absteigend nach Frequenz. Das Ganze speichern wir in einen eigene Dataframe, den wir <code>corona_tbl</code> nennen.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">corona_tbl &lt;-<span class="st"> </span>d <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(head) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarise</span>(</a>
<a class="sourceLine" id="cb21-2" data-line-number="2">  <span class="dt">Freq =</span> <span class="kw">sum</span>(Freq)</a>
<a class="sourceLine" id="cb21-3" data-line-number="3">) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">arrange</span>(<span class="kw">desc</span>(Freq))</a></code></pre></div>
<p>Wir möchten nun wissen, welche Lexeme überzufällig häufig als Bestimmungsglieder in <em>Corona-</em>Komposita auftreten. Dafür brauchen wir zunächst ein Referenzkorpus. Hierfür habe ich eine Frequenzliste aller als Nomen getaggten Tokens aus dem DWDS-Kernkorpus des 21. Jahrhunderts erstellt (wiederum mit Dstar), die wir nun einlesen. Wiederum konvertieren wir alle Daten in Kleinschreibung und zählen die Frequenz entsprechend aus:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="co"># einlesen</span></a>
<a class="sourceLine" id="cb22-2" data-line-number="2">nouns &lt;-<span class="st"> </span><span class="kw">read_delim</span>(<span class="st">&quot;allnouns_dwds21.txt&quot;</span>, </a>
<a class="sourceLine" id="cb22-3" data-line-number="3">                    <span class="dt">delim =</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>, <span class="dt">quote=</span><span class="st">&quot;&quot;</span>,</a>
<a class="sourceLine" id="cb22-4" data-line-number="4">                    <span class="dt">col_names =</span> <span class="kw">c</span>(<span class="st">&quot;Freq_dwds21&quot;</span>, <span class="st">&quot;word&quot;</span>))</a></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   Freq_dwds21 = col_double(),
##   word = col_character()
## )</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1"><span class="co"># alle in Kleinschreibung</span></a>
<a class="sourceLine" id="cb24-2" data-line-number="2">nouns<span class="op">$</span>word &lt;-<span class="st"> </span><span class="kw">tolower</span>(nouns<span class="op">$</span>word)</a>
<a class="sourceLine" id="cb24-3" data-line-number="3"></a>
<a class="sourceLine" id="cb24-4" data-line-number="4"><span class="co"># neu auszählen (um groß- und kleingeschriebene Varianten zu vereinen)</span></a>
<a class="sourceLine" id="cb24-5" data-line-number="5">nouns &lt;-<span class="st"> </span>nouns <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(word) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarise</span>(</a>
<a class="sourceLine" id="cb24-6" data-line-number="6">  <span class="dt">Freq_dwds21 =</span> <span class="kw">sum</span>(Freq_dwds21)</a>
<a class="sourceLine" id="cb24-7" data-line-number="7">)</a></code></pre></div>
<p>Nun verbinden wir mit Hilfe der <code>left_join</code>-Funktion die oben erstellte <code>corona_tbl</code>-Tabelle mit der soeben erstellten <code>nouns</code>-Tabelle. Da nicht alle Lexeme, die in der Corona-Tabelle belegt sind, auch in der DWDS21-Tabelle belegt sind, gibt es einige fehlende Datenpunkte (in R heißen diese NA, für “Not Available”). Diese ersetzen wir mit Hilfe des <code>replace_na</code>-Befehls durch 0.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1">corona_tbl &lt;-<span class="st"> </span><span class="kw">left_join</span>(corona_tbl, nouns, <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;head&quot;</span> =<span class="st"> &quot;word&quot;</span>))</a>
<a class="sourceLine" id="cb25-2" data-line-number="2">corona_tbl &lt;-<span class="st"> </span><span class="kw">replace_na</span>(corona_tbl, <span class="kw">list</span>(<span class="dt">Freq_dwds21 =</span> <span class="dv">0</span>))</a></code></pre></div>
<p>Mit Hilfe der Funktion <code>collex.dist</code> aus dem collostructions-Paket können wir nun eine sog. distinktive Kollexemanalyse über die Daten laufen lassen. Wenn Sie mehr über dieses Verfahren lesen möchten, können Sie z.B. das Paper von Gries &amp; Stefanowitsch (2004) oder den Überblicksartikel zur Kollostruktionsanalyse von Stefanowitsch (2013) lesen. Beachten Sie aber bitte, dass ich dieses Verfahren hier überhaupt nicht im Sinne der Erfinder verwende, sondern lediglich explorativ auf Datensätze anwende. Wenn Sie mehr darüber erfahren möchten, welche text- und diskurslinguistischen Aufschlüsse solche Assoziationsmuster erlauben, empfehle ich Bubenhofer (2009) oder auch viele der Blogeinträge, die über Bubenhofers Website verfügbar sind (<a href="https://www.bubenhofer.com/" class="uri">https://www.bubenhofer.com/</a>).</p>
<p>Wir führen nun die Kollostruktionsanalyse durch und schauen uns die ersten paar Einträge an, die uns der <code>head</code>-Befehl zeigt:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1">corona_coll &lt;-<span class="st"> </span><span class="kw">collex.dist</span>(<span class="kw">as.data.frame</span>(corona_tbl))</a>
<a class="sourceLine" id="cb26-2" data-line-number="2"><span class="kw">head</span>(corona_coll)</a></code></pre></div>
<pre><code>##          COLLEX O.CXN1 E.CXN1 O.CXN2  E.CXN2 ASSOC COLL.STR.LOGL SIGNIF SHARED
## 1         virus  32628 6623.4    237 26241.6  Freq    112753.565  *****      Y
## 2         krise  18019 3715.5    417 14720.5  Freq     56986.655  *****      Y
## 3      pandemie   6188 1247.1      0  4940.9  Freq     20168.335  *****      N
## 4 viruspandemie   2221  447.6      0  1773.4  Freq      7158.780  *****      N
## 5     infektion   1362  281.5     35  1115.5  Freq      4067.988  *****      Y
## 6    viruskrise   1076  216.9      0   859.1  Freq      3457.251  *****      N</code></pre>
<p>Erwartungsgemäß führen <em>-virus</em> und <em>-krise</em> die Rangliste an.</p>
<p>Nun wollen wir aber mit diesen Daten noch mehr machen und einen Plot erstellen, in dem wir sowohl die Frequenz als auch die Assoziationsstärke sehen. Dafür ist es sinnvoll, diese Daten zunächst zu transformieren. Gerade bei Frequenzdaten ist es üblich, sie zu logarithmieren, da Wortfrequenzen oft einer sehr schiefen Verteilung folgen, wie wir auch an diesen Daten sehen können:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1"><span class="kw">plot</span>(corona_tbl<span class="op">$</span>Freq, <span class="dt">type =</span> <span class="st">&quot;b&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;Absolute Frequenz&quot;</span>)</a></code></pre></div>
<p><img src="03-gvis_files/figure-html/zipf-1.png" width="672" /></p>
<p>Einige wenige Tokens sind extremst häufig, viele sehr selten und die allermeisten Hapaxe, haben also eine Frequenz von 1. Anders sieht es aus, wenn wir die Daten logarithmieren:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1"><span class="kw">plot</span>(<span class="kw">log</span>(corona_tbl<span class="op">$</span>Freq), <span class="dt">type =</span> <span class="st">&quot;b&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;Logarithmierte Frequenz&quot;</span>)</a></code></pre></div>
<p><img src="03-gvis_files/figure-html/zipf2-1.png" width="672" /></p>
<p>Die Verteilung ist nun schon deutlich weniger schief.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1"><span class="co"># Log-Frequenz hinzufügen</span></a>
<a class="sourceLine" id="cb30-2" data-line-number="2">corona_coll<span class="op">$</span>LogFreq &lt;-<span class="st"> </span><span class="kw">log</span>(corona_coll<span class="op">$</span>O.CXN1)</a></code></pre></div>
<p>Um die Entstehung neuer Wörter über die Zeit hinweg visualisieren zu können, müssen wir aber zunächst die Assoziationswerte dem ursprünglichen Dataframe, der ja auch die Datumswerte hat, hinzufügen, was wir wieder über den <code>left_join</code>-Befehl tun. Anschließend tabulieren wir die Daten so, dass wir für jedes Datum die Frequenz bekommen.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1">d &lt;-<span class="st"> </span><span class="kw">left_join</span>(d, corona_coll, <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;head&quot;</span> =<span class="st"> &quot;COLLEX&quot;</span>), <span class="dt">all.x =</span> T)</a>
<a class="sourceLine" id="cb31-2" data-line-number="2">d<span class="op">$</span>LogFreq_per_date &lt;-<span class="st"> </span><span class="kw">log</span>(d<span class="op">$</span>Freq)</a>
<a class="sourceLine" id="cb31-3" data-line-number="3"></a>
<a class="sourceLine" id="cb31-4" data-line-number="4"><span class="co"># tabulieren:</span></a>
<a class="sourceLine" id="cb31-5" data-line-number="5">d2 &lt;-<span class="st"> </span>d <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(head, date) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarise</span>(</a>
<a class="sourceLine" id="cb31-6" data-line-number="6">  <span class="dt">Freq =</span> <span class="kw">sum</span>(Freq),</a>
<a class="sourceLine" id="cb31-7" data-line-number="7">  <span class="dt">Freq_in_entire_dataset =</span> <span class="kw">unique</span>(O.CXN1)</a>
<a class="sourceLine" id="cb31-8" data-line-number="8">)</a></code></pre></div>
<p>Um die Datenmenge handhabbar zu halten, beschränken wir uns zudem auf solche Daten, deren absolute Frequenz in den Daten mindestens fünf beträgt und die im Jahr 2020 erhoben wurden. Dafür fügen wir zunächst noch eine Jahr-Spalte an.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1"><span class="co"># Jahr-Spalte</span></a>
<a class="sourceLine" id="cb32-2" data-line-number="2">d2<span class="op">$</span>year &lt;-<span class="st"> </span><span class="kw">gsub</span>(<span class="st">&quot;-.*&quot;</span>, <span class="st">&quot;&quot;</span>, d2<span class="op">$</span>date)</a>
<a class="sourceLine" id="cb32-3" data-line-number="3"></a>
<a class="sourceLine" id="cb32-4" data-line-number="4"><span class="co"># nur 2020</span></a>
<a class="sourceLine" id="cb32-5" data-line-number="5">d2 &lt;-<span class="st"> </span><span class="kw">filter</span>(d2, year <span class="op">==</span><span class="st"> &quot;2020&quot;</span>)</a>
<a class="sourceLine" id="cb32-6" data-line-number="6"></a>
<a class="sourceLine" id="cb32-7" data-line-number="7"><span class="co"># Frequenz &gt; 5</span></a>
<a class="sourceLine" id="cb32-8" data-line-number="8">d2 &lt;-<span class="st"> </span><span class="kw">filter</span>(d2, Freq_in_entire_dataset <span class="op">&gt;=</span><span class="st"> </span><span class="dv">5</span>)</a></code></pre></div>
<p>Um die Daten als Input für Googlevis benutzen zu können, müssen wir sie aber zunächst noch in ein anderes, tabellarisches Format bringen.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1"><span class="co"># tabellarisches Format</span></a>
<a class="sourceLine" id="cb33-2" data-line-number="2">d2_tbl &lt;-<span class="st">  </span>d2 <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(head, date) <span class="op">%&gt;%</span><span class="st"> </span>table <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">as.data.frame</span>(<span class="dt">stringsAsFactors =</span> F)</a>
<a class="sourceLine" id="cb33-3" data-line-number="3">d2_tbl<span class="op">$</span>date &lt;-<span class="st"> </span>d2_tbl<span class="op">$</span>date <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">as_date</span>()</a>
<a class="sourceLine" id="cb33-4" data-line-number="4"><span class="kw">colnames</span>(d2_tbl) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;head&quot;</span>, <span class="st">&quot;date&quot;</span>, <span class="st">&quot;Freq_on_date&quot;</span>)</a>
<a class="sourceLine" id="cb33-5" data-line-number="5">d2_tbl2 &lt;-<span class="st"> </span><span class="kw">left_join</span>(d2_tbl, d2, <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;head&quot;</span>, <span class="st">&quot;date&quot;</span>))</a>
<a class="sourceLine" id="cb33-6" data-line-number="6">d2_tbl3 &lt;-<span class="st"> </span><span class="kw">replace_na</span>(d2_tbl2, <span class="kw">list</span>(<span class="dt">Freq =</span> <span class="dv">0</span>, <span class="dt">logFreq =</span> <span class="dv">0</span>, <span class="dt">diff_rel =</span> <span class="dv">0</span>))</a>
<a class="sourceLine" id="cb33-7" data-line-number="7"></a>
<a class="sourceLine" id="cb33-8" data-line-number="8"><span class="co"># mit Kollexemtabelle vereinigen</span></a>
<a class="sourceLine" id="cb33-9" data-line-number="9">d2_tbl4 &lt;-<span class="st"> </span><span class="kw">left_join</span>(d2_tbl3, corona_coll, <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;head&quot;</span> =<span class="st"> &quot;COLLEX&quot;</span>))</a></code></pre></div>
<p>Im Falle der hier vorliegenden Daten macht es auch bei den Log-Likelihood-Werten, die in unserer Kollostruktionstabelle als Assoziationsmaß verwendet werden, Sinn, sie zu logarithmieren, weil man sonst in unserer Grafik wenig erkennen würde. Das ist aber wirklich nur in diesem speziellen Fall zwecks Visualisierung sinnvoll und in den meisten Fällen unnötig. Darüber hinaus nehme ich noch eine weitere Veränderung vor: Der Log-Likelihood-Wert geht in zwei Richtungen - einige haben einen hohen LogL-Wert, weil sie überzufällig häufig als Bestimmungsglieder von Komposita im Coronakorpus vorkommen, andere haben einen hohen LogL-Wert, weil sie überzufällig häufig als freie Lexeme im DWDS-Kernkorpus 21 vorkommen! Die ASSOC-Spalte im <code>collex.dist</code>-Output gibt an, in welche Richtung die Assoziation jeweils geht. Mit Hilfe dieser Spalte negativiere ich alle Werte, die in Richtung DWDS21 gehen. So können wir dann in unserer Visualisierung auf Anhieb sehen, in welche Richtung die Assoziation geht.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" data-line-number="1"><span class="co"># Frequenz logarithmieren</span></a>
<a class="sourceLine" id="cb34-2" data-line-number="2">d2_tbl4<span class="op">$</span>logFreq &lt;-<span class="st"> </span><span class="kw">log</span>(d2_tbl4<span class="op">$</span>Freq_on_date)</a>
<a class="sourceLine" id="cb34-3" data-line-number="3"></a>
<a class="sourceLine" id="cb34-4" data-line-number="4"><span class="co"># Kollexemstärke logarithmieren</span></a>
<a class="sourceLine" id="cb34-5" data-line-number="5">d2_tbl4<span class="op">$</span>collex &lt;-<span class="st"> </span><span class="kw">ifelse</span>(d2_tbl4<span class="op">$</span>ASSOC<span class="op">==</span><span class="st">&quot;Freq_dwds21&quot;</span>, <span class="op">-</span>d2_tbl4<span class="op">$</span>COLL.STR.LOGL, d2_tbl4<span class="op">$</span>COLL.STR.LOGL)</a>
<a class="sourceLine" id="cb34-6" data-line-number="6">d2_tbl4<span class="op">$</span>collex2 &lt;-<span class="st"> </span><span class="kw">ifelse</span>(d2_tbl4<span class="op">$</span>ASSOC<span class="op">==</span><span class="st">&quot;Freq_dwds21&quot;</span>, <span class="op">-</span><span class="kw">log1p</span>(d2_tbl4<span class="op">$</span>COLL.STR.LOGL), <span class="kw">log1p</span>(d2_tbl4<span class="op">$</span>COLL.STR.LOGL))</a></code></pre></div>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1"><span class="co"># GoogleMotionChart erstellen...</span></a>
<a class="sourceLine" id="cb35-2" data-line-number="2">bubble &lt;-<span class="st"> </span><span class="kw">gvisMotionChart</span>(<span class="kw">filter</span>(<span class="kw">select</span>(d2_tbl4, head, date, logFreq, COLL.STR.LOGL, collex, collex2), logFreq <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>), </a>
<a class="sourceLine" id="cb35-3" data-line-number="3">                          <span class="dt">idvar =</span> <span class="st">&quot;head&quot;</span>, </a>
<a class="sourceLine" id="cb35-4" data-line-number="4">                          <span class="dt">sizevar =</span> <span class="st">&quot;logFreq&quot;</span>,</a>
<a class="sourceLine" id="cb35-5" data-line-number="5">                          <span class="dt">yvar=</span><span class="st">&quot;logFreq&quot;</span>,</a>
<a class="sourceLine" id="cb35-6" data-line-number="6">                          <span class="dt">xvar=</span><span class="st">&quot;collex2&quot;</span>,</a>
<a class="sourceLine" id="cb35-7" data-line-number="7">                          <span class="dt">timevar =</span> <span class="st">&quot;date&quot;</span>)</a>
<a class="sourceLine" id="cb35-8" data-line-number="8"></a>
<a class="sourceLine" id="cb35-9" data-line-number="9"><span class="co"># ... und mit dem Plot-Befehl aktivieren</span></a>
<a class="sourceLine" id="cb35-10" data-line-number="10"><span class="kw">plot</span>(bubble)</a></code></pre></div>
<pre><code>## starting httpd help server ... done</code></pre>
<p>Et voilà - wenn Sie es schaffen, den FlashPlayer zu aktivieren, können Sie jetzt ein wenig mit den Daten herumspielen.</p>
<p>Statt eines Schlussworts eher eine Zwischenbilanz: Ich hoffe, Sie konnten das eine oder andere aus diesem Tutorial lernen, auch wenn es noch work-in-progress ist und gerade diese dritte Seite noch etwas Feinschliff bedürfte. Ich hoffe, dass ich diesen Feinschliff bald ergänzen kann…</p>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="corona-als-erstglied-eine-produktivitatsanalyse.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="literatur.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": null
}
});
});
</script>

</body>

</html>
